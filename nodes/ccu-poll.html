<script type="text/javascript">
    RED.nodes.registerType('ccu-poll', {

        category: 'ccu',
        defaults: {
            name: {value: ''},
            script: {value: ''},
            ccuConfig: {value: '', type: 'ccu-connection', required: true}
        },
        inputs: 1,
        outputs: 0,
        icon: 'ccu.png',
        color: '#8BB9D2',
        paletteLabel: 'poll',
        align: 'right',
        label() {
            return this.name || 'poll';
        }
    });
</script>

<script type="text/x-red" data-template-name="ccu-poll">
    <div class="form-row">
        <label for="node-input-ccuConfig"><i class="icon-global"></i> CCU</label>
        <input type="text" id="node-input-ccuConfig">
    </div>
    <div class="form-row">
        <label for="node-input-name"><i class="icon-bookmark"></i> Name</label>
        <input type="text" id="node-input-name">
    </div>

</script>

<script type="text/x-red" data-help-name="ccu-poll" lang="de-DE">
    <p>Führt einen sofortigen Poll von ReGaHSS Systemvariablen durch.</p>
    <p>Dieser Node ist dazu vorgesehen die Änderung von Systemvariablen mit möglichst geringer Verzögerung zu empfangen.
      Hierzu kann man ein Programm auf der CCU anlegen dass bei Änderung von Variablen einen virtuellen Taster betätigt.
      In Node-RED wird dann ein <i>RPC</i> Node so konfiguriert dass er diese "Tastenbetätigungen" empfängt und über den
      <i>Poll</i> Node eine Aktualisierung der Variablenwerte auslöst.
    </p>
</script>

<script type="text/x-red" data-help-name="ccu-poll" lang="en-US">
    <p>Triggers an immediate polling of Sysvars from ReGaHSS.</p>
</script>